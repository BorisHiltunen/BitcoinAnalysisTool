        while count < len(self.data):
            if count == len(self.data)-1:
                if end_timestamp == 0:
                    end_timestamp = self.data[count][0]
                chosen_price_quantities.append((start_timestamp,
                                                end_timestamp,
                                                len(chosen_prices)))
                start_timestamp = 0
                chosen_prices = []
            else:
                if self.data[count][1] > self.data[count+1][1]:
                    if start_timestamp == 0:
                        start_timestamp = self.data[count][0]
                    if self.data[count][1] not in chosen_prices:
                        chosen_prices.append(self.data[count][1])
                    chosen_prices.append(self.data[count+1][1])
                    end_timestamp = 0
                else:
                    if end_timestamp == 0:
                        end_timestamp = self.data[count][0]
                    chosen_price_quantities.append((start_timestamp,
                                                    end_timestamp,
                                                    len(chosen_prices)))
                    start_timestamp = 0
                    chosen_prices = []
            count += 1